services:
    # ud-parsers (812X)
    spacy-gpu:
        image: instituutnederlandsetaal/taggers-dockerized-spacy:${VERSION}
        restart: unless-stopped
        environment:
            - USE_GPU=1
        ports:
            - 8120:8080
        deploy:
            resources:
                reservations:
                    devices:
                        - driver: nvidia
                          count: all
                          capabilities: [ gpu ]
    spacy-cpu:
        image: instituutnederlandsetaal/taggers-dockerized-spacy:${VERSION}
        restart: unless-stopped
        ports:
            - 8120:8080

    stanza:
        image: instituutnederlandsetaal/taggers-dockerized-stanza:${VERSION}
        restart: unless-stopped
        ports:
            - 8121:8080

networks:
    default:
        name: taggers-network
        driver: bridge # external applications can attach to this network to access the taggers 
